@model OrderCreateViewModel

@{
    ViewData["Title"] = "Add to Cart";
}

<h1>Add to Cart</h1>

<div>
    <h4>Product Information</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.BrandName)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.BrandName)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.CategoryName)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.CategoryName)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Price)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Price)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Quantity)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Quantity)
        </dd>
    </dl>
    <div>
        <h4>Total Price</h4>
        <hr />
        <div id="totalPrice"></div>
    </div>
    <div class="form-group">
        <button asp-action="AddToCart" class="btn btn-primary">Add to Cart</button>
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function () {
            $('.add-to-cart-btn').click(function () {
                var productId = $(this).data('product-id');
                var inCart = $(this).data('in-cart');

                if (inCart) {
                    $.post('/Order/RemoveFromCart', { productId: productId }, function () {

                        window.location.href = '/Order/Index';
                    });
                } else {
   
                    $.post('/Order/AddToCart', { productId: productId }, function () {

                        window.location.href = '/Order/Index';
                    });
                }
            });
        });
    </script>
}

